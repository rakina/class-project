<!DOCTYPE html> 
<html> 
	 <head> 
	 <meta http-equiv="charset=utf-8" /> 
	 <title>Kalkulator JavaScript</title> 
	 <link rel="stylesheet" href="style.css" /> 
	 <script> 
	 	var minus = false;
	 	function hapusAll(){
	 		var elem = document.getElementById("display");
	 		elem.value = "0";
	 		minus = false;
	 	}
	 	function hapus(){
	 		var elem = document.getElementById("display");
	 		if (minus){
	 			if (elem.value == "-()"){
	 				hapusAll();
	 			}
	 			else
	 				elem.value = elem.value.substring(0,elem.value.length-2)+")";
	 		}
	 		else
	 			elem.value = elem.value.substring(0,elem.value.length-1);
	 		if (elem.value == "" || elem.value == "ERRO")
	 			elem.value = "0";
	 	}
	 
	 	function add(x){
	 		var elem = document.getElementById("display");
	 		if (minus){
	 			elem.value = elem.value.substring(0,elem.value.length-1)+x+")";
	 		}
	 		else{
		 		if (elem.value == "0" || elem.value == "ERROR")
		 			elem.value = "";
		 		elem.value = elem.value + x;
		 	}
	 	}
	 	function hitung(){
	 		 var elem = document.getElementById("display");
	 		 var hasil;
	 		 minus = false;
	 		 try{
	 		 	hasil = eval(elem.value);
	 		 }
	 		 catch(e){
	 		 	elem.value = "ERROR";
	 		 }
	 		 // membagi dengan 0, atau perintah tidak valid
	 		 if (hasil != hasil || hasil == "Infinity" || hasil == "-Infinity" || hasil == null)
	 		 	elem.value = "ERROR";
	 		 else
	 		 	elem.value = hasil;
	 	}

	 	function plusminus(){
	 		var elem = document.getElementById("display");
	 		if (minus)
	 			elem.value = elem.value.substring(2,elem.value.length-1);
	 		else elem.value = "-("+elem.value+")";
	 		minus ^= true;
	 	}
	 </script> 
</head> 
<body> 
	<div id = "container">
		 <h1>Kalkulator</h1> 
		 <div id = "badan">
		 	<input type="text" name="display" id="display"  value="0" /><br /> 
			<div id = "buttons">
				<input type="button" value="CE" onclick="hapusAll()" /> 
				 <input type="button" value="d" onclick="hapus()" /> 
				 <input type="button" value="/" onclick="add('/')" /> 
				 <input type="button" value="*" onclick="add('*')" /> 
				 <br /> 
				 <input type="button" value="7" onclick="add('7')" /> 
				 <input type="button" value="8" onclick="add('8')" /> 
				 <input type="button" value="9" onclick="add('9')" /> 
				 <input type="button" value="-" onclick="add('-')" /> 
				 <br /> 
				 <input type="button" value="4" onclick="add('4')" /> 
				 <input type="button" value="5" onclick="add('5')" /> 
				 <input type="button" value="6" onclick="add('6')" /> 
				 <input type="button" value="+" onclick="add('+')" /> 
				 <br /> 
				 <input type="button" value="1" onclick="add('1')" /> 
				 <input type="button" value="2" onclick="add('2')" /> 
				 <input type="button" value="3" onclick="add('3')" /> 
				 <input type="button" value="=" onclick="hitung()" /> 
				 <br /> 
				 <input type="button" value="0" onclick="add('0')" /> 
				 <input type="button" value="." onclick="add('.')" /> 
				 <input type="button" value="-/+" onclick="plusminus()" />
			</div> 
		</div> 
	</div>
</body> 
</html> 